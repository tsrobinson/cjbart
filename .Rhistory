) %>%
ggplot(aes(x = covar, y = out_lab, fill = importance)) +
facet_grid(attribute ~ ., space = "free", scales = "free") +
geom_tile() +
scale_fill_gradient(low="white", high="firebrick2") +
labs(x = "Subject covariate", y = "Attribute-level", fill = "Imp.") +
theme(text = element_text(size = 16),
axis.text.x = element_text(angle=45, vjust = 1, hjust = 1),
strip.text.y.right = element_text(angle = 0))
resp_vimp %>%
mutate(attribute = case_when(outcome == "Slow to procure" ~ "Procurement",
grepl("jobs_", outcome) ~ "Job Growth",
grepl("gdp_", outcome) ~ "GDP Growth",
grepl("per million", outcome) ~ "Deaths",
grepl("weeks", outcome) ~ "Lockdown Length",
grepl("%", outcome) ~ "Vaccination %"),
out_lab = gsub("gdp_|jobs_","",outcome),
out_lab = factor(out_lab, levels = c("30 per million","50 per million","70 per million", "90 per million",
"-10%","-5%","0%","+5%","+10%",
"20 weeks","30 weeks","40 weeks",
"Slow to procure",
"15%","25%","50%","75%"))
) %>%
ggplot(aes(x = covar, y = out_lab, fill = importance)) +
facet_grid(attribute ~ ., space = "free", scales = "free") +
geom_tile() +
scale_fill_gradient(low="white", high="firebrick2") +
labs(x = "Subject covariate", y = "Attribute-level", fill = "Imp.") +
theme(text = element_text(size = 16),
axis.text.x = element_text(angle=45, vjust = 1, hjust = 1),
strip.text.y.right = element_text(angle = 0))
red
resp_vimp %>%
mutate(attribute = case_when(outcome == "Slow to procure" ~ "Procurement",
grepl("jobs_", outcome) ~ "Job Growth",
grepl("gdp_", outcome) ~ "GDP Growth",
grepl("per million", outcome) ~ "Deaths",
grepl("weeks", outcome) ~ "Lockdown Length",
grepl("%", outcome) ~ "Vaccination %"),
out_lab = gsub("gdp_|jobs_","",outcome),
out_lab = factor(out_lab, levels = c("30 per million","50 per million","70 per million", "90 per million",
"-10%","-5%","0%","+5%","+10%",
"20 weeks","30 weeks","40 weeks",
"Slow to procure",
"15%","25%","50%","75%"))
) %>%
ggplot(aes(x = covar, y = out_lab, fill = importance)) +
facet_grid(attribute ~ ., space = "free", scales = "free") +
geom_tile() +
scale_fill_gradient(low="white", high="firebrick2") +
labs(x = "Subject covariate", y = "Attribute-level", fill = "Imp.") +
theme(text = element_text(size = 16),
axis.text.x = element_text(angle=45, vjust = 1, hjust = 1),
strip.text.y.right = element_text(angle = 0),
strip.background =element_rect(fill="red"))
resp_vimp %>%
mutate(attribute = case_when(outcome == "Slow to procure" ~ "Procurement",
grepl("jobs_", outcome) ~ "Job Growth",
grepl("gdp_", outcome) ~ "GDP Growth",
grepl("per million", outcome) ~ "Deaths",
grepl("weeks", outcome) ~ "Lockdown Length",
grepl("%", outcome) ~ "Vaccination %"),
out_lab = gsub("gdp_|jobs_","",outcome),
out_lab = factor(out_lab, levels = c("30 per million","50 per million","70 per million", "90 per million",
"-10%","-5%","0%","+5%","+10%",
"20 weeks","30 weeks","40 weeks",
"Slow to procure",
"15%","25%","50%","75%"))
) %>%
ggplot(aes(x = covar, y = out_lab, fill = importance)) +
facet_grid(attribute ~ ., space = "free", scales = "free") +
geom_tile() +
scale_fill_gradient(low="white", high="firebrick2") +
labs(x = "Subject covariate", y = "Attribute-level", fill = "Imp.") +
theme(text = element_text(size = 16),
axis.text.x = element_text(angle=45, vjust = 1, hjust = 1),
strip.text.y.right = element_text(angle = 0),
strip.background =element_rect(fill="none"))
resp_vimp %>%
mutate(attribute = case_when(outcome == "Slow to procure" ~ "Procurement",
grepl("jobs_", outcome) ~ "Job Growth",
grepl("gdp_", outcome) ~ "GDP Growth",
grepl("per million", outcome) ~ "Deaths",
grepl("weeks", outcome) ~ "Lockdown Length",
grepl("%", outcome) ~ "Vaccination %"),
out_lab = gsub("gdp_|jobs_","",outcome),
out_lab = factor(out_lab, levels = c("30 per million","50 per million","70 per million", "90 per million",
"-10%","-5%","0%","+5%","+10%",
"20 weeks","30 weeks","40 weeks",
"Slow to procure",
"15%","25%","50%","75%"))
) %>%
ggplot(aes(x = covar, y = out_lab, fill = importance)) +
facet_grid(attribute ~ ., space = "free", scales = "free") +
geom_tile() +
scale_fill_gradient(low="white", high="firebrick2") +
labs(x = "Subject covariate", y = "Attribute-level", fill = "Imp.") +
theme(text = element_text(size = 16),
axis.text.x = element_text(angle=45, vjust = 1, hjust = 1),
strip.text.y.right = element_text(angle = 0),
strip.background =element_rect(fill=NA))
resp_vimp %>%
mutate(attribute = case_when(outcome == "Slow to procure" ~ "Procurement",
grepl("jobs_", outcome) ~ "Job Growth",
grepl("gdp_", outcome) ~ "GDP Growth",
grepl("per million", outcome) ~ "Deaths",
grepl("weeks", outcome) ~ "Lockdown Length",
grepl("%", outcome) ~ "Vaccination %"),
out_lab = gsub("gdp_|jobs_","",outcome),
out_lab = factor(out_lab, levels = c("30 per million","50 per million","70 per million", "90 per million",
"-10%","-5%","0%","+5%","+10%",
"20 weeks","30 weeks","40 weeks",
"Slow to procure",
"15%","25%","50%","75%"))
) %>%
ggplot(aes(x = covar, y = out_lab, fill = importance)) +
facet_grid(attribute ~ ., space = "free", scales = "free") +
geom_tile() +
scale_fill_gradient(low="white", high="firebrick2") +
labs(x = "Subject covariate", y = "Attribute-level", fill = "Imp.") +
theme(text = element_text(size = 16),
axis.text.x = element_text(angle=45, vjust = 1, hjust = 1),
strip.text.y.right = element_text(angle = 0, color = "black"),
strip.background =element_rect(fill=NA))
resp_vimp %>%
mutate(attribute = case_when(outcome == "Slow to procure" ~ "Procurement",
grepl("jobs_", outcome) ~ "Job Growth",
grepl("gdp_", outcome) ~ "GDP Growth",
grepl("per million", outcome) ~ "Deaths",
grepl("weeks", outcome) ~ "Lockdown Length",
grepl("%", outcome) ~ "Vaccination %"),
out_lab = gsub("gdp_|jobs_","",outcome),
out_lab = factor(out_lab, levels = c("30 per million","50 per million","70 per million", "90 per million",
"-10%","-5%","0%","+5%","+10%",
"20 weeks","30 weeks","40 weeks",
"Slow to procure",
"15%","25%","50%","75%"))
) %>%
ggplot(aes(x = covar, y = out_lab, fill = importance)) +
facet_grid(attribute ~ ., space = "free", scales = "free") +
geom_tile() +
scale_fill_gradient(low="white", high="firebrick2") +
labs(x = "Subject covariate", y = "Attribute-level", fill = "Imp.") +
theme(text = element_text(size = 16),
axis.text.x = element_text(angle=45, vjust = 1, hjust = 1),
strip.text.y.right = element_text(angle = 0, color = "black", hjust = -1),
strip.background =element_rect(fill=NA))
resp_vimp %>%
mutate(attribute = case_when(outcome == "Slow to procure" ~ "Procurement",
grepl("jobs_", outcome) ~ "Job Growth",
grepl("gdp_", outcome) ~ "GDP Growth",
grepl("per million", outcome) ~ "Deaths",
grepl("weeks", outcome) ~ "Lockdown Length",
grepl("%", outcome) ~ "Vaccination %"),
out_lab = gsub("gdp_|jobs_","",outcome),
out_lab = factor(out_lab, levels = c("30 per million","50 per million","70 per million", "90 per million",
"-10%","-5%","0%","+5%","+10%",
"20 weeks","30 weeks","40 weeks",
"Slow to procure",
"15%","25%","50%","75%"))
) %>%
ggplot(aes(x = covar, y = out_lab, fill = importance)) +
facet_grid(attribute ~ ., space = "free", scales = "free") +
geom_tile() +
scale_fill_gradient(low="white", high="firebrick2") +
labs(x = "Subject covariate", y = "Attribute-level", fill = "Imp.") +
theme(text = element_text(size = 16),
axis.text.x = element_text(angle=45, vjust = 1, hjust = 1),
strip.text.y.right = element_text(angle = 0, color = "black", hjust = -0.5),
strip.background =element_rect(fill=NA))
resp_vimp %>%
mutate(attribute = case_when(outcome == "Slow to procure" ~ "Procurement",
grepl("jobs_", outcome) ~ "Job Growth",
grepl("gdp_", outcome) ~ "GDP Growth",
grepl("per million", outcome) ~ "Deaths",
grepl("weeks", outcome) ~ "Lockdown Length",
grepl("%", outcome) ~ "Vaccination %"),
out_lab = gsub("gdp_|jobs_","",outcome),
out_lab = factor(out_lab, levels = c("30 per million","50 per million","70 per million", "90 per million",
"-10%","-5%","0%","+5%","+10%",
"20 weeks","30 weeks","40 weeks",
"Slow to procure",
"15%","25%","50%","75%"))
) %>%
ggplot(aes(x = covar, y = out_lab, fill = importance)) +
facet_grid(attribute ~ ., space = "free", scales = "free") +
geom_tile() +
scale_fill_gradient(low="white", high="firebrick2") +
labs(x = "Subject covariate", y = "Attribute-level", fill = "Imp.") +
theme(text = element_text(size = 16),
axis.text.x = element_text(angle=45, vjust = 1, hjust = 1),
strip.text.y.right = element_text(angle = 0, color = "black", hjust = 0),
strip.background =element_rect(fill=NA))
?element_text
resp_vimp %>%
mutate(attribute = case_when(outcome == "Slow to procure" ~ "Procurement",
grepl("jobs_", outcome) ~ "Job Growth",
grepl("gdp_", outcome) ~ "GDP Growth",
grepl("per million", outcome) ~ "Deaths",
grepl("weeks", outcome) ~ "Lockdown Length",
grepl("%", outcome) ~ "Vaccination %"),
out_lab = gsub("gdp_|jobs_","",outcome),
out_lab = factor(out_lab, levels = c("30 per million","50 per million","70 per million", "90 per million",
"-10%","-5%","0%","+5%","+10%",
"20 weeks","30 weeks","40 weeks",
"Slow to procure",
"15%","25%","50%","75%"))
) %>%
ggplot(aes(x = covar, y = out_lab, fill = importance)) +
facet_grid(attribute ~ ., space = "free", scales = "free") +
geom_tile() +
scale_fill_gradient(low="white", high="firebrick2") +
labs(x = "Subject covariate", y = "Attribute-level", fill = "Imp.") +
theme(text = element_text(size = 16),
axis.text.x = element_text(angle=45, vjust = 1, hjust = 1),
strip.text.y.right = element_text(angle = 0,
color = "black", hjust = 0, family = "b"),
strip.background =element_rect(fill=NA))
resp_vimp %>%
mutate(attribute = case_when(outcome == "Slow to procure" ~ "Procurement",
grepl("jobs_", outcome) ~ "Job Growth",
grepl("gdp_", outcome) ~ "GDP Growth",
grepl("per million", outcome) ~ "Deaths",
grepl("weeks", outcome) ~ "Lockdown Length",
grepl("%", outcome) ~ "Vaccination %"),
out_lab = gsub("gdp_|jobs_","",outcome),
out_lab = factor(out_lab, levels = c("30 per million","50 per million","70 per million", "90 per million",
"-10%","-5%","0%","+5%","+10%",
"20 weeks","30 weeks","40 weeks",
"Slow to procure",
"15%","25%","50%","75%"))
) %>%
ggplot(aes(x = covar, y = out_lab, fill = importance)) +
facet_grid(attribute ~ ., space = "free", scales = "free") +
geom_tile() +
scale_fill_gradient(low="white", high="firebrick2") +
labs(x = "Subject covariate", y = "Attribute-level", fill = "Imp.") +
theme(text = element_text(size = 16),
axis.text.x = element_text(angle=45, vjust = 1, hjust = 1),
strip.text.y.right = element_text(angle = 0,
color = "black", hjust = 0, family = "bold"),
strip.background =element_rect(fill=NA))
resp_vimp %>%
mutate(attribute = case_when(outcome == "Slow to procure" ~ "Procurement",
grepl("jobs_", outcome) ~ "Job Growth",
grepl("gdp_", outcome) ~ "GDP Growth",
grepl("per million", outcome) ~ "Deaths",
grepl("weeks", outcome) ~ "Lockdown Length",
grepl("%", outcome) ~ "Vaccination %"),
out_lab = gsub("gdp_|jobs_","",outcome),
out_lab = factor(out_lab, levels = c("30 per million","50 per million","70 per million", "90 per million",
"-10%","-5%","0%","+5%","+10%",
"20 weeks","30 weeks","40 weeks",
"Slow to procure",
"15%","25%","50%","75%"))
) %>%
ggplot(aes(x = covar, y = out_lab, fill = importance)) +
facet_grid(attribute ~ ., space = "free", scales = "free") +
geom_tile() +
scale_fill_gradient(low="white", high="firebrick2") +
labs(x = "Subject covariate", y = "Attribute-level", fill = "Imp.") +
theme(text = element_text(size = 16),
axis.text.x = element_text(angle=45, vjust = 1, hjust = 1),
strip.text.y.right = element_text(angle = 0,
color = "black", hjust = 0, face = "bold"),
strip.background =element_rect(fill=NA))
resp_vimp %>%
mutate(attribute = case_when(outcome == "Slow to procure" ~ "Procurement",
grepl("jobs_", outcome) ~ "Job Growth",
grepl("gdp_", outcome) ~ "GDP Growth",
grepl("per million", outcome) ~ "Deaths",
grepl("weeks", outcome) ~ "Lockdown Length",
grepl("%", outcome) ~ "Vaccination %"),
out_lab = gsub("gdp_|jobs_","",outcome),
out_lab = factor(out_lab, levels = c("30 per million","50 per million","70 per million", "90 per million",
"-10%","-5%","0%","+5%","+10%",
"20 weeks","30 weeks","40 weeks",
"Slow to procure",
"15%","25%","50%","75%"))
) %>%
ggplot(aes(x = covar, y = out_lab, fill = importance)) +
facet_grid(attribute ~ ., space = "free", scales = "free") +
geom_tile() +
scale_fill_gradient(low="white", high="firebrick2") +
labs(x = "Subject covariate", y = "Attribute-level", fill = "Imp.") +
theme(text = element_text(size = 16),
axis.text.x = element_text(angle=45, vjust = 1, hjust = 1),
strip.text.y.right = element_text(angle = 0,
color = "black", hjust = 0, face = "bold"),
strip.background =element_rect(fill=NA),
legend.position = "bottom")
resp_vimp %>%
mutate(attribute = case_when(outcome == "Slow to procure" ~ "Procurement",
grepl("jobs_", outcome) ~ "Job Growth",
grepl("gdp_", outcome) ~ "GDP Growth",
grepl("per million", outcome) ~ "Deaths",
grepl("weeks", outcome) ~ "Lockdown Length",
grepl("%", outcome) ~ "Vaccination %"),
out_lab = gsub("gdp_|jobs_","",outcome),
out_lab = factor(out_lab, levels = c("30 per million","50 per million","70 per million", "90 per million",
"-10%","-5%","0%","+5%","+10%",
"20 weeks","30 weeks","40 weeks",
"Slow to procure",
"15%","25%","50%","75%"))
) %>%
ggplot(aes(x = covar, y = out_lab, fill = importance)) +
facet_grid(attribute ~ ., space = "free", scales = "free", switch = "y") +
geom_tile() +
scale_fill_gradient(low="white", high="firebrick2") +
labs(x = "Subject covariate", y = "Attribute-level", fill = "Imp.") +
theme(text = element_text(size = 16),
axis.text.x = element_text(angle=45, vjust = 1, hjust = 1),
strip.text.y.right = element_text(angle = 0,
color = "black", hjust = 0, face = "bold"),
strip.background =element_rect(fill=NA),
legend.position = "bottom")
resp_vimp %>%
mutate(attribute = case_when(outcome == "Slow to procure" ~ "Procurement",
grepl("jobs_", outcome) ~ "Job Growth",
grepl("gdp_", outcome) ~ "GDP Growth",
grepl("per million", outcome) ~ "Deaths",
grepl("weeks", outcome) ~ "Lockdown Length",
grepl("%", outcome) ~ "Vaccination %"),
out_lab = gsub("gdp_|jobs_","",outcome),
out_lab = factor(out_lab, levels = c("30 per million","50 per million","70 per million", "90 per million",
"-10%","-5%","0%","+5%","+10%",
"20 weeks","30 weeks","40 weeks",
"Slow to procure",
"15%","25%","50%","75%"))
) %>%
ggplot(aes(x = covar, y = out_lab, fill = importance)) +
facet_grid(attribute ~ ., space = "free", scales = "free", switch = "y") +
geom_tile() +
scale_fill_gradient(low="white", high="firebrick2") +
labs(x = "Subject covariate", y = "Attribute-level", fill = "Imp.") +
theme(text = element_text(size = 16),
axis.text.x = element_text(angle=45, vjust = 1, hjust = 1),
strip.text.y.left = element_text(angle = 0,
color = "black", hjust = 0, face = "bold"),
strip.background =element_rect(fill=NA),
legend.position = "bottom")
resp_vimp %>%
mutate(attribute = case_when(outcome == "Slow to procure" ~ "Procurement",
grepl("jobs_", outcome) ~ "Job Growth",
grepl("gdp_", outcome) ~ "GDP Growth",
grepl("per million", outcome) ~ "Deaths",
grepl("weeks", outcome) ~ "Lockdown Length",
grepl("%", outcome) ~ "Vaccination %"),
out_lab = gsub("gdp_|jobs_","",outcome),
out_lab = factor(out_lab, levels = c("30 per million","50 per million","70 per million", "90 per million",
"-10%","-5%","0%","+5%","+10%",
"20 weeks","30 weeks","40 weeks",
"Slow to procure",
"15%","25%","50%","75%"))
) %>%
ggplot(aes(x = covar, y = out_lab, fill = importance)) +
facet_grid(attribute ~ ., space = "free", scales = "free", switch = "y") +
geom_tile() +
scale_y_continuous(position = "right") +
scale_fill_gradient(low="white", high="firebrick2") +
labs(x = "Subject covariate", y = "Attribute-level", fill = "Imp.") +
theme(text = element_text(size = 16),
axis.text.x = element_text(angle=45, vjust = 1, hjust = 1),
strip.text.y.left = element_text(angle = 0,
color = "black", hjust = 0, face = "bold"),
strip.background =element_rect(fill=NA),
legend.position = "bottom")
resp_vimp %>%
mutate(attribute = case_when(outcome == "Slow to procure" ~ "Procurement",
grepl("jobs_", outcome) ~ "Job Growth",
grepl("gdp_", outcome) ~ "GDP Growth",
grepl("per million", outcome) ~ "Deaths",
grepl("weeks", outcome) ~ "Lockdown Length",
grepl("%", outcome) ~ "Vaccination %"),
out_lab = gsub("gdp_|jobs_","",outcome),
out_lab = factor(out_lab, levels = c("30 per million","50 per million","70 per million", "90 per million",
"-10%","-5%","0%","+5%","+10%",
"20 weeks","30 weeks","40 weeks",
"Slow to procure",
"15%","25%","50%","75%"))
) %>%
ggplot(aes(x = covar, y = out_lab, fill = importance)) +
facet_grid(attribute ~ ., space = "free", scales = "free", switch = "y") +
geom_tile() +
scale_y_discrete(position = "right") +
scale_fill_gradient(low="white", high="firebrick2") +
labs(x = "Subject covariate", y = "Attribute-level", fill = "Imp.") +
theme(text = element_text(size = 16),
axis.text.x = element_text(angle=45, vjust = 1, hjust = 1),
strip.text.y.left = element_text(angle = 0,
color = "black", hjust = 0, face = "bold"),
strip.background =element_rect(fill=NA),
legend.position = "bottom")
resp_vimp %>%
mutate(attribute = case_when(outcome == "Slow to procure" ~ "Procurement",
grepl("jobs_", outcome) ~ "Job Growth",
grepl("gdp_", outcome) ~ "GDP Growth",
grepl("per million", outcome) ~ "Deaths",
grepl("weeks", outcome) ~ "Lockdown Length",
grepl("%", outcome) ~ "Vaccination %"),
out_lab = gsub("gdp_|jobs_","",outcome),
out_lab = factor(out_lab, levels = c("30 per million","50 per million","70 per million", "90 per million",
"-10%","-5%","0%","+5%","+10%",
"20 weeks","30 weeks","40 weeks",
"Slow to procure",
"15%","25%","50%","75%"))
) %>%
ggplot(aes(x = covar, y = out_lab, fill = importance)) +
facet_grid(attribute ~ ., space = "free", scales = "free", switch = "y") +
geom_tile() +
scale_fill_gradient(low="white", high="firebrick2") +
labs(x = "Subject covariate", y = "Attribute-level", fill = "Imp.") +
theme(text = element_text(size = 16),
axis.text.x = element_text(angle=45, vjust = 1, hjust = 1),
strip.text.y.right = element_text(angle = 0,
color = "black", hjust = 0, face = "bold"),
strip.background =element_rect(fill=NA),
legend.position = "bottom")
resp_vimp %>%
mutate(attribute = case_when(outcome == "Slow to procure" ~ "Procurement",
grepl("jobs_", outcome) ~ "Job Growth",
grepl("gdp_", outcome) ~ "GDP Growth",
grepl("per million", outcome) ~ "Deaths",
grepl("weeks", outcome) ~ "Lockdown Length",
grepl("%", outcome) ~ "Vaccination %"),
out_lab = gsub("gdp_|jobs_","",outcome),
out_lab = factor(out_lab, levels = c("30 per million","50 per million","70 per million", "90 per million",
"-10%","-5%","0%","+5%","+10%",
"20 weeks","30 weeks","40 weeks",
"Slow to procure",
"15%","25%","50%","75%"))
) %>%
ggplot(aes(x = covar, y = out_lab, fill = importance)) +
facet_grid(attribute ~ ., space = "free", scales = "free") +
geom_tile() +
scale_fill_gradient(low="white", high="firebrick2") +
labs(x = "Subject covariate", y = "Attribute-level", fill = "Imp.") +
theme(text = element_text(size = 16),
axis.text.x = element_text(angle=45, vjust = 1, hjust = 1),
strip.text.y.right = element_text(angle = 0,
color = "black", hjust = 0, face = "bold"),
strip.background =element_rect(fill=NA),
legend.position = "bottom")
ggsave("figures/vimp_heatmap_dec22.pdf", dpi = 300, width = 10, height = 8)
resp_vimp %>%
mutate(attribute = case_when(outcome == "Slow to procure" ~ "Procurement",
grepl("jobs_", outcome) ~ "Job Growth",
grepl("gdp_", outcome) ~ "GDP Growth",
grepl("per million", outcome) ~ "Deaths",
grepl("weeks", outcome) ~ "Lockdown Length",
grepl("%", outcome) ~ "Vaccination %"),
out_lab = gsub("gdp_|jobs_","",outcome),
out_lab = factor(out_lab, levels = c("30 per million","50 per million","70 per million", "90 per million",
"-10%","-5%","0%","+5%","+10%",
"20 weeks","30 weeks","40 weeks",
"Slow to procure",
"15%","25%","50%","75%"))
) %>%
ggplot(aes(x = covar, y = out_lab, fill = importance)) +
facet_grid(attribute ~ ., space = "free", scales = "free") +
geom_tile() +
scale_fill_gradient(low="white", high="firebrick2") +
labs(x = "Subject covariate", y = "Attribute-level", fill = "Imp.") +
theme(text = element_text(size = 16),
axis.text.x = element_text(angle=45, vjust = 1, hjust = 1),
strip.text.y.right = element_text(angle = 0,
color = "grey40", hjust = 0, face = "bold"),
strip.background =element_rect(fill=NA),
legend.position = "bottom")
resp_vimp %>%
mutate(attribute = case_when(outcome == "Slow to procure" ~ "Procurement",
grepl("jobs_", outcome) ~ "Job Growth",
grepl("gdp_", outcome) ~ "GDP Growth",
grepl("per million", outcome) ~ "Deaths",
grepl("weeks", outcome) ~ "Lockdown Length",
grepl("%", outcome) ~ "Vaccination %"),
out_lab = gsub("gdp_|jobs_","",outcome),
out_lab = factor(out_lab, levels = c("30 per million","50 per million","70 per million", "90 per million",
"-10%","-5%","0%","+5%","+10%",
"20 weeks","30 weeks","40 weeks",
"Slow to procure",
"15%","25%","50%","75%"))
) %>%
ggplot(aes(x = covar, y = out_lab, fill = importance)) +
facet_grid(attribute ~ ., space = "free", scales = "free") +
geom_tile() +
scale_fill_gradient(low="white", high="firebrick2") +
labs(x = "Subject covariate", y = "Attribute-level", fill = "Imp.") +
theme(text = element_text(size = 16),
axis.text.x = element_text(angle=45, vjust = 1, hjust = 1),
strip.text.y.right = element_text(angle = 0,
color = "grey40", hjust = 0, size = 8),
strip.background =element_rect(fill=NA),
legend.position = "bottom")
?mclapply
Sys.machine
sys.machine
.Platform$OS.type
Sys.info()
Sys.info()['machine']
Sys.info()['sysname']
R.Version()
a = TRUE
b = FALSE
a
b
b | a
b || a
?|
.Platform$OS.type
setwd("/Users/tsr/Dropbox (Personal)/cjbart")
require(parallel)
