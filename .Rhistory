id = "id1")
het_effects <- cjbart::IMCE(data = fake_data,
model = cj_model,
attribs = c("A","B","C","D","E"),
ref_levels = c("a1","b1","c1","d1","e1"),
cores = 1)
View(het_effects)
summary(het_effects)
cregg_amce <- cregg::cj(fake_data, Y ~ A + B + C + D + E, id = ~ id1)
cjbart_amce <- summary(het_effects)
colnames(cjbart_amce)[1] <- "level"
merge(cregg_amce[,c("level","estimate")], cjbart_amce[,c("level","AMCE")])
library(cregg)
data("immigration")
immigration$LangPos <- NULL
immigration$PriorPos <- NULL
immigration$profile <- NULL
immigration$contest_no <- NULL
immig_model <- cjbart(data = immigration,
Y_var = "ChosenImmigrant",
id_var = "CaseID")
library(cregg)
data("immigration")
immigration$LangPos <- NULL
immigration$PriorPos <- NULL
immigration$profile <- NULL
immigration$contest_no <- NULL
immig_model <- cjbart(data = immigration,
Y = "ChosenImmigrant",
id = "CaseID")
plot(het_effects)
?plot.cjbart
plot(het_effects, covar = "c1")
plot(het_effects, covar = "covar1")
plot(het_effects, covar = "covar1", plot_levels = c("a2","a3","b2","b3"))
cj_model <- cjbart::cjbart(data = fake_data,
Y = "Y",
id = "id1")
check()
?quantile
?var
check()
library("cregg")
cregg_amce <- cregg::cj(fake_data, Y ~ A + B + C + D + E, id = ~ id1)
?qnorm
?aes_string
check()
check()
check_rhub()
R.version()
R.version
check_rhub()
check()
check()
build_vignettes()
?cjbart
??cjbart
vignettes(cjbart)
?vignette
vignette(cjbart)
vignette("cjbart")
vignette(packages = "cjbart")
vignette(package = "cjbart")
vignette("cjbart-demo")
build_vignettes()
build_vignettes()
build_vignettes()
build_vignettes()
build_vignettes()
check()
?check_Rhub
??check_rhub
rhub::platforms()
set.seed(89)
subjects <- 500
rounds <- 5
obs <- subjects*rounds
fake_data <- data.frame(A = sample(c("a1","a2","a3"), obs, replace = TRUE),
B = sample(c("b1","b2","b3"), obs, replace = TRUE),
C = sample(c("c1","c2","c3"), obs, replace = TRUE),
D = sample(c("d1","d2","d3"), obs, replace = TRUE),
E = sample(c("e1","e2","e3"), obs, replace = TRUE),
covar1 = rep(runif(subjects, 0 ,1),
each = rounds),
covar2 = rep(sample(c(1,0),
subjects,
replace = TRUE),
each = rounds),
id1 = rep(1:subjects, each=rounds),
stringsAsFactors = TRUE)
fake_data$Y <- ifelse(fake_data$E == "e2",
rbinom(obs, 1, fake_data$covar1),
sample(c(0,1), obs, replace = TRUE))
cj_model <- cjbart(data = fake_data,
Y = "Y",
id = "id1")
het_effects <- IMCE(data = fake_data,
model = cj_model,
attribs = c("A","B","C","D","E"),
ref_levels = c("a1","b1","c1","d1","e1"),
Y = "Y",
id = "id1",
cores = 8)
het_effects <- IMCE(data = fake_data,
model = cj_model,
attribs = c("A","B","C","D","E"),
ref_levels = c("a1","b1","c1","d1","e1"),
cores = 8)
summary(het_effects)
plot(het_effects, covar = "covar1")
RMCE(het_effects)
RMCE(het_effects)
?@examples
roxygen2
?roxygen2
check()
subjects <- 250
rounds <- 5
profiles <- 2
obs <- subjects*rounds*profiles
fake_data <- data.frame(id1 = rep(1:subjects, each=rounds*profiles),
A = sample(c("a1","a2","a3"), obs, replace = TRUE),
B = sample(c("b1","b2","b3"), obs, replace = TRUE),
C = sample(c("c1","c2","c3"), obs, replace = TRUE),
D = sample(c("d1","d2","d3"), obs, replace = TRUE),
E = sample(c("e1","e2","e3"), obs, replace = TRUE),
covar1 = rep(runif(subjects, 0 ,100),
each = rounds*profiles),
covar2 = rep(sample(c(1,0), subjects,
replace = TRUE),
each = rounds*profiles),
stringsAsFactors = TRUE)
fake_data$Y <- ifelse(fake_data$E == "e2",
rbinom(obs, 1, fake_data$covar1),
sample(c(0,1), obs, replace = TRUE))
View(fake_data)
subjects <- 250
rounds <- 5
profiles <- 2
obs <- subjects*rounds*profiles
fake_data <- data.frame(A = sample(c("a1","a2","a3"), obs, replace = TRUE),
B = sample(c("b1","b2","b3"), obs, replace = TRUE),
C = sample(c("c1","c2","c3"), obs, replace = TRUE),
D = sample(c("d1","d2","d3"), obs, replace = TRUE),
E = sample(c("e1","e2","e3"), obs, replace = TRUE),
covar1 = rep(runif(subjects, 0 ,1),
each = rounds),
covar2 = rep(sample(c(1,0),
subjects,
replace = TRUE),
each = rounds),
id1 = rep(1:subjects, each=rounds),
stringsAsFactors = TRUE)
fake_data$Y <- ifelse(fake_data$E == "e2",
rbinom(obs, 1, fake_data$covar1),
sample(c(0,1), obs, replace = TRUE))
cj_model <- cjbart::cjbart(data = fake_data,
Y = "Y",
id = "id1")
het_effects <- cjbart::IMCE(data = fake_data,
model = cj_model,
attribs = c("A","B","C","D","E"),
ref_levels = c("a1","b1","c1","d1","e1"),
cores = 1)
summary(het_effects)
set.seed(89)
subjects <- 250
rounds <- 5
profiles <- 2
obs <- subjects*rounds*profiles
fake_data <- data.frame(A = sample(c("a1","a2","a3"), obs, replace = TRUE),
B = sample(c("b1","b2","b3"), obs, replace = TRUE),
C = sample(c("c1","c2","c3"), obs, replace = TRUE),
D = sample(c("d1","d2","d3"), obs, replace = TRUE),
E = sample(c("e1","e2","e3"), obs, replace = TRUE),
covar1 = rep(runif(subjects, 0 ,1),
each = rounds),
covar2 = rep(sample(c(1,0),
subjects,
replace = TRUE),
each = rounds),
id1 = rep(1:subjects, each=rounds),
stringsAsFactors = TRUE)
fake_data$Y <- ifelse(fake_data$E == "e2",
rbinom(obs, 1, fake_data$covar1),
sample(c(0,1), obs, replace = TRUE))
cj_model <- cjbart(data = fake_data,
Y = "Y",
id = "id1")
het_effects <- IMCE(data = fake_data,
model = cj_model,
attribs = c("A","B","C","D","E"),
ref_levels = c("a1","b1","c1","d1","e1"),
cores = 8)
summary(het_effects)
plot(het_effects, covar = "covar1")
check()
?cjbart
load_all()
?cjbart
check()
?examples
example("basic_workflow")
example(package = "cjbart)"
example(package = "cjbart")
check()
set.seed(89)
subjects <- 50
rounds <- 3
profiles <- 2
obs <- subjects*rounds*profiles
fake_data <- data.frame(A = sample(c("a1","a2","a3"), obs, replace = TRUE),
B = sample(c("b1","b2","b3"), obs, replace = TRUE),
C = sample(c("c1","c2","c3"), obs, replace = TRUE),
D = sample(c("d1","d2","d3"), obs, replace = TRUE),
E = sample(c("e1","e2","e3"), obs, replace = TRUE),
covar1 = rep(runif(subjects, 0 ,1),
each = rounds),
covar2 = rep(sample(c(1,0),
subjects,
replace = TRUE),
each = rounds),
id1 = rep(1:subjects, each=rounds),
stringsAsFactors = TRUE)
fake_data$Y <- ifelse(fake_data$E == "e2",
rbinom(obs, 1, fake_data$covar1),
sample(c(0,1), obs, replace = TRUE))
cj_model <- cjbart(data = fake_data,
Y = "Y",
id = "id1")
het_effects <- IMCE(data = fake_data,
model = cj_model,
attribs = c("A","B","C","D","E"),
ref_levels = c("a1","b1","c1","d1","e1"),
cores = 8)
summary(het_effects)
check()
set.seed(89)
subjects <- 10
rounds <- 3
profiles <- 2
obs <- subjects*rounds*profiles
fake_data <- data.frame(A = sample(c("a1","a2","a3"), obs, replace = TRUE),
B = sample(c("b1","b2","b3"), obs, replace = TRUE),
C = sample(c("c1","c2","c3"), obs, replace = TRUE),
covar1 = rep(runif(subjects, 0 ,1),
each = rounds),
covar2 = rep(sample(c(1,0),
subjects,
replace = TRUE),
each = rounds),
id1 = rep(1:subjects, each=rounds),
stringsAsFactors = TRUE)
fake_data$Y <- ifelse(sample(c(0,1), obs, replace = TRUE))
cj_model <- cjbart(data = fake_data,
Y = "Y",
id = "id1")
het_effects <- IMCE(data = fake_data,
model = cj_model,
attribs = c("A","B","C"),
ref_levels = c("a1","b1","c1"),
cores = 1)
summary(het_effects)
set.seed(89)
subjects <- 10
rounds <- 3
profiles <- 2
obs <- subjects*rounds*profiles
fake_data <- data.frame(A = sample(c("a1","a2","a3"), obs, replace = TRUE),
B = sample(c("b1","b2","b3"), obs, replace = TRUE),
C = sample(c("c1","c2","c3"), obs, replace = TRUE),
covar1 = rep(runif(subjects, 0 ,1),
each = rounds),
covar2 = rep(sample(c(1,0),
subjects,
replace = TRUE),
each = rounds),
id1 = rep(1:subjects, each=rounds),
stringsAsFactors = TRUE)
fake_data$Y <- ifelse(sample(c(0,1), obs, replace = TRUE))
?sample
fake_data$Y <- sample(c(0,1), obs, replace = TRUE)
cj_model <- cjbart(data = fake_data,
Y = "Y",
id = "id1")
het_effects <- IMCE(data = fake_data,
model = cj_model,
attribs = c("A","B","C"),
ref_levels = c("a1","b1","c1"),
cores = 1)
summary(het_effects)
check()
?cjbart
?IMCE
View(het_effects)
check()
R.version
check_win_devel()
rhub::platforms()
check_rhub(platforms = c("ubuntu-gcc-release", "fedora-clang-devel"))
?pbart
?mc.pbart
.Platform$OS.type
?pbart
?mc.pbart
break()
test <- function(a) {if (a == 1) {message("hello")} else {break}}
test(1)
test(2)
test <- function(a) { for (i in 1:10) {if (a == 1) {message("hello")} else {return(NULL)}}}
test(2)
test(1)
test(3)
test("hello")
check_win_devel()
check_rhub()
return(plot.new())
check_win_devel()
?pbart
?predict.pbart
predict.mc.pbart
check()
check_win_devel()
check_rhub()
check_win_release()
check_win_devel()
subjects <- 5
rounds <- 2
profiles <- 2
obs <- subjects*rounds*profiles
fake_data <- data.frame(A = sample(c("a1","a2",), obs, replace = TRUE),
B = sample(c("b1","b2"), obs, replace = TRUE),
covar1 = rep(runif(subjects, 0 ,1),
each = rounds),
covar2 = rep(sample(c(1,0),
subjects,
replace = TRUE),
each = rounds),
id1 = rep(1:subjects, each=rounds),
stringsAsFactors = TRUE)
fake_data$Y <- sample(c(0,1), obs, replace = TRUE)
cj_model <- cjbart(data = fake_data,
Y = "Y",
id = "id1")
subjects <- 5
rounds <- 2
profiles <- 2
obs <- subjects*rounds*profiles
fake_data <- data.frame(A = sample(c("a1","a2",), obs, replace = TRUE),
B = sample(c("b1","b2"), obs, replace = TRUE),
covar1 = rep(runif(subjects, 0 ,1),
each = rounds),
covar2 = rep(sample(c(1,0),
subjects,
replace = TRUE),
each = rounds),
id1 = rep(1:subjects, each=rounds),
stringsAsFactors = TRUE)
fake_data$Y <- sample(c(0,1), obs, replace = TRUE)
cj_model <- cjbart(data = fake_data,
Y = "Y",
id = "id1")
het_effects <- IMCE(data = fake_data,
model = cj_model,
attribs = c("A","B"),
ref_levels = c("a1","b1"),
cores = 1)
subjects <- 5
rounds <- 2
profiles <- 2
obs <- subjects*rounds*profiles
fake_data <- data.frame(A = sample(c("a1","a2",), obs, replace = TRUE),
B = sample(c("b1","b2"), obs, replace = TRUE),
covar1 = rep(runif(subjects, 0 ,1),
each = rounds),
covar2 = rep(sample(c(1,0),
subjects,
replace = TRUE),
each = rounds),
id1 = rep(1:subjects, each=rounds),
stringsAsFactors = TRUE)
fake_data$Y <- sample(c(0,1), obs, replace = TRUE)
cj_model <- cjbart(data = fake_data,
Y = "Y",
id = "id1")
het_effects <- IMCE(data = fake_data,
model = cj_model,
attribs = c("A","B"),
ref_levels = c("a1","b1"),
cores = 1)
subjects <- 5
rounds <- 2
profiles <- 2
obs <- subjects*rounds*profiles
fake_data <- data.frame(A = sample(c("a1","a2",), obs, replace = TRUE),
B = sample(c("b1","b2"), obs, replace = TRUE),
id1 = rep(1:subjects, each=rounds),
stringsAsFactors = TRUE)
fake_data <- data.frame(A = sample(c("a1","a2"), obs, replace = TRUE),
B = sample(c("b1","b2"), obs, replace = TRUE),
id1 = rep(1:subjects, each=rounds),
stringsAsFactors = TRUE)
fake_data$Y <- sample(c(0,1), obs, replace = TRUE)
cj_model <- cjbart(data = fake_data,
Y = "Y",
id = "id1")
het_effects <- IMCE(data = fake_data,
model = cj_model,
attribs = c("A","B"),
ref_levels = c("a1","b1"),
cores = 1)
summary(het_effects)
subjects <- 5
rounds <- 2
profiles <- 2
obs <- subjects*rounds*profiles
fake_data <- data.frame(A = sample(c("a1","a2"), obs, replace = TRUE),
B = sample(c("b1","b2"), obs, replace = TRUE),
id1 = rep(1:subjects, each=rounds),
stringsAsFactors = TRUE)
fake_data$Y <- sample(c(0,1), obs, replace = TRUE)
cj_model <- cjbart(data = fake_data,
Y = "Y",
id = "id1")
subjects <- 5
rounds <- 2
profiles <- 2
obs <- subjects*rounds*profiles
fake_data <- data.frame(A = sample(c("a1","a2"), obs, replace = TRUE),
B = sample(c("b1","b2"), obs, replace = TRUE),
id1 = rep(1:subjects, each=rounds),
stringsAsFactors = TRUE)
fake_data$Y <- sample(c(0,1), obs, replace = TRUE)
cj_model <- cjbart(data = fake_data,
Y = "Y",
id = "id1")
het_effects <- IMCE(data = fake_data,
model = cj_model,
attribs = c("A","B"),
ref_levels = c("a1","b1"),
cores = 1)
summary(het_effects)
het_effects <- IMCE(data = fake_data,
model = cj_model,
attribs = c("A","B"),
ref_levels = c("a1","b1"),
cores = 0)
het_effects <- IMCE(data = fake_data,
model = cj_model,
attribs = c("A","B"),
ref_levels = c("a1","b1"),
cores = 1)
summary(het_effects)
subjects <- 5
rounds <- 2
profiles <- 2
obs <- subjects*rounds*profiles
fake_data <- data.frame(A = sample(c("a1","a2"), obs, replace = TRUE),
B = sample(c("b1","b2"), obs, replace = TRUE),
id1 = rep(1:subjects, each=rounds),
stringsAsFactors = TRUE)
fake_data$Y <- sample(c(0,1), obs, replace = TRUE)
cj_model <- cjbart(data = fake_data,
Y = "Y",
id = "id1")
het_effects <- IMCE(data = fake_data,
model = cj_model,
attribs = c("A","B"),
ref_levels = c("a1","b1"),
cores = 1)
summary(het_effects)
subjects <- 5
rounds <- 2
profiles <- 2
obs <- subjects*rounds*profiles
fake_data <- data.frame(A = sample(c("a1","a2"), obs, replace = TRUE),
B = sample(c("b1","b2"), obs, replace = TRUE),
id1 = rep(1:subjects, each=rounds),
stringsAsFactors = TRUE)
fake_data$Y <- sample(c(0,1), obs, replace = TRUE)
cj_model <- cjbart(data = fake_data,
Y = "Y",
id = "id1")
het_effects <- IMCE(data = fake_data,
model = cj_model,
attribs = c("A","B"),
ref_levels = c("a1","b1"),
cores = 1)
summary(het_effects)
check_win_devel()
check_win_devel()
check()
?.Platofrm
?.Platform
check_win_release()
check_win_devel()
check()
release()
spell_check()
check()
?qnorm
spell_check()
load_all()
spell_check
spell_check()
document()
spell_check()
document()
spell_check()
check()
release()
release()
